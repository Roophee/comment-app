(this["webpackJsonpcomments-app"]=this["webpackJsonpcomments-app"]||[]).push([[0],{27:function(n,e,t){"use strict";t.r(e);var r,a,o,i,c,d,l,u,s,b,h,p,g,x,f=t(1),m=t.n(f),j=t(13),O=t.n(j),k=t(4),v=t(2),w=t(3),B=v.default.div(r||(r=Object(w.a)(["\n  box-sizing: border-box;\n  padding: 20px 0;\n"]))),_=t(17),C=Object(v.createGlobalStyle)(a||(a=Object(w.a)(["\n  ","\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n  body {\n    width: 100%;\n    height: 100%;\n    overflow: overlay;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n    'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background: ",";\n  }\n  "])),_.normalize,(function(n){return n.theme.bodyBackground})),y=v.default.div(o||(o=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 50%;\n  min-height: 95vh;\n  margin: auto;\n  padding: 10px 0;\n  background: ",";\n  border: ",";\n  border-radius: 10px;\n  ",";\n\n  & .comments__panel {\n    display: flex;\n    flex-direction: column;\n  }\n\n  & .buttons__panel {\n    display: flex;\n    flex-direction: column;\n  }\n\n  @media (max-width: 1000px) {\n    width: 70%;\n  }\n  @media (max-width: 700px) {\n    width: 90%;\n  }\n"])),(function(n){return n.theme.mainBackground}),(function(n){return n.theme.mainBorder}),(function(n){return n.theme.boxShadow})),S=t(0),D=function(n){return Object(S.jsx)(y,{children:n.children})},z=t(10),N=t(12),E=v.default.div(i||(i=Object(w.a)(["\n  width: 90%;\n  margin: 5px auto;\n  padding: 3px 10px;\n  background: ",";\n  word-wrap: break-word;\n  border-radius: 10px;\n  ",";\n\n  & .user__header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    align-content: end;\n    font-weight: 700;\n  }\n\n  & > span {\n    padding-left: 50px;\n  }\n"])),(function(n){return n.theme.itemBackground}),(function(n){return n.theme.boxShadow})),A=v.default.div(c||(c=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  text-transform: capitalize;\n  word-break: break-word;\n"]))),U=E,F=v.default.div(d||(d=Object(w.a)(["\n  position: relative;\n  min-width: 35px;\n  min-height: 35px;\n  margin-right: 5px;\n  border-radius: 50%;\n  border: ",";\n  background:",";\n  color: ",";\n  font-size: 26px;\n  font-weight: 400;\n\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding-bottom: 5px;\n  }\n"])),(function(n){return n.theme.mainBorder}),(function(n){return n.theme.avatarBackground}),(function(n){return n.theme.avatarColor})),H=function(n){var e=n.name,t=new RegExp("^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u04510-9]");return Object(S.jsx)(F,{children:Object(S.jsx)("span",{children:t.test(e)?e[0].toUpperCase():"U"})})},T=v.default.div(l||(l=Object(w.a)(["\n  font-size: 14px;\n  padding-left: 5px;\n  min-width: 23%;\n"]))),q=function(n){var e=new Date(n.time);return Object(S.jsxs)(T,{children:[e.toLocaleDateString("ua-UA",{year:"numeric",month:"long",day:"numeric"})," ",e.toLocaleTimeString("ua-UA",{hour:"2-digit",minute:"2-digit"})]})},R=function(n){var e=n.item,t=e.text,r=e.name,a=e.created_at;return Object(S.jsxs)(U,{children:[Object(S.jsxs)("div",{className:"user__header",children:[Object(S.jsxs)(A,{children:[Object(S.jsx)(H,{name:r}),Object(S.jsx)("span",{children:r})]}),Object(S.jsx)(q,{time:a})]}),Object(S.jsx)("span",{children:t})]})},L=v.default.button(u||(u=Object(w.a)(["\n  width: 200px;\n  height: 50px;\n  font-size: 18px;\n  align-self: center;\n  margin: 10px;\n  background: ",";\n  font-weight: 600;\n  border-radius: 10px;\n  ",";\n  color: ",";\n\n  &:hover:not([disabled]) {\n    background: ",";\n  }\n  &:disabled {\n    background: ",";\n    color: #0277bd;\n  }\n"])),(function(n){return n.theme.buttonBackgroundActive}),(function(n){return n.theme.boxShadow}),(function(n){return n.theme.buttonsColor}),(function(n){return n.theme.buttonBackgroundHover}),(function(n){return n.theme.buttonBackgroundDisabled})),P=function(n){var e=n.setMoreButtonClicked,t=n.setUrlRequest,r=n.next,a=Object(f.useCallback)((function(){e(!0),t(r)}),[r,e,t]);return Object(S.jsx)(L,{onClick:a,disabled:!r,children:"Show more"})},M=v.default.div(s||(s=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),J=v.default.button(b||(b=Object(w.a)(["\n  padding: 5px;\n  min-width: 40px;\n  height: 40px;\n  margin: 0 5px;\n  border-radius: 10px;\n  ",";\n  background: ",";\n  color: ",";\n  font-weight: 600;\n\n  &:hover:not([disabled]) {\n    background: ",";\n  }\n  &:disabled {\n    background: ",";\n  }\n"])),(function(n){return n.theme.boxShadow}),(function(n){return n.theme.buttonBackgroundActive}),(function(n){return n.theme.buttonsColor}),(function(n){return n.theme.buttonBackgroundHover}),(function(n){return n.theme.buttonBackgroundDisabled})),I=function(n){var e=n.urlSetter,t=n.url,r=n.disabled,a=Object(f.useCallback)((function(n){n.preventDefault(),t&&e(t)}),[t,e]);return Object(S.jsx)(J,{disabled:r||!t,onClick:a,children:n.children})},Z=function(n){var e=n.apiData,t=e.first_page_url,r=e.last_page_url,a=e.next_page_url,o=e.prev_page_url,i=e.current_page,c=e.last_page,d=n.urlSetter,l=function(n){return n?function(e){e.preventDefault(),d(n)}:function(n){return n.preventDefault()}};return Object(S.jsxs)(M,{children:[Object(S.jsx)(I,{url:t,disabled:1===i,urlSetter:d,handlerCreator:l,children:"First"}),Object(S.jsx)(I,{url:o,urlSetter:d,handlerCreator:l,children:"Prev"}),Object(S.jsxs)(I,{disabled:!0,url:null,urlSetter:d,handlerCreator:l,children:[i," from ",c]}),Object(S.jsx)(I,{url:a,urlSetter:d,handlerCreator:l,children:"Next"}),Object(S.jsx)(I,{url:r,urlSetter:d,handlerCreator:l,disabled:i===c,children:"Last"})]})},G=v.default.div(h||(h=Object(w.a)(["\n  width: 90%;\n  margin: 5px auto;\n  padding: 3px 10px;\n  background: ",";\n  word-wrap: break-word;\n  border-radius: 10px;\n  ",";\n\n  & form {\n    display: flex;\n    flex-direction: column;\n  }\n\n  & input {\n    width: 100%;\n    background: ",";\n    font-size: 16px;\n    line-height: 1.2;\n    border-radius: 5px;\n    padding: 5px 0;\n  }\n\n  & label {\n    font-weight: 600;\n  }\n\n  & button {\n    width: 50px;\n    height: 30px;\n    margin-right: 5px;\n    border-radius: 10px;\n  }\n\n  & #text {\n    max-width: 100%;\n    min-width: 100%;\n    min-height: 150px;\n    padding: 5px 0;\n    background: ",";\n    font-size: 16px;\n    line-height: 1.2;\n    border-radius: 5px;\n    font-family: inherit;\n  }\n\n  & .form__buttons {\n    display: inline-block;\n    align-self: flex-end;\n    margin: 5px 0;\n  }\n\n  & .form__button.send {\n    background: ",";\n    font-weight: 600;\n    ",";\n  }\n\n  & .form__button.clear {\n    background: ",";\n    font-weight: 600;\n    ",";\n"])),(function(n){return n.theme.itemBackground}),(function(n){return n.theme.boxShadow}),(function(n){return n.theme.inputBackground}),(function(n){return n.theme.inputBackground}),(function(n){return n.theme.sendBackground}),(function(n){return n.theme.boxShadow}),(function(n){return n.theme.clearBackground}),(function(n){return n.theme.boxShadow})),K=function(n){var e=n.lastPage,t=n.setUrlRequest,r=Object(f.useState)(""),a=Object(k.a)(r,2),o=a[0],i=a[1],c=Object(f.useState)(""),d=Object(k.a)(c,2),l=d[0],u=d[1],s=Object(f.useCallback)((function(n){"name"===n.target.id&&i(n.target.value),"text"===n.target.id&&u(n.target.value)}),[i,u]),b=function(){i(""),u("")},h=Object(f.useCallback)((function(n){n.preventDefault(),b()}),[]),p=Object(f.useCallback)((function(n){if(n.preventDefault(),i=l,!(a=o)||a.length<2?(alert("\u0418\u043c\u044f \u0434\u043e\u043b\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),0):i&&!(i.length<2)||(alert("\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),0)){var r={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Vary:"Origin"},body:JSON.stringify({name:o,text:l})};fetch("https://jordan.ashton.fashion/api/goods/30/comments",r).then((function(){b(),t(e)}))}var a,i}),[e,o,l,t]);return Object(S.jsx)(G,{children:Object(S.jsxs)("form",{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(S.jsx)("input",{value:o,onChange:s,type:"text",name:"name",id:"name",maxLength:"50",pattern:"[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451]{2,}",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f (\u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{htmlFor:"text",children:"Comment:"}),Object(S.jsx)("textarea",{value:l,onChange:s,type:"text",name:"text",id:"text",maxLength:"500",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 (\u043d\u0435 \u043c\u0435\u043d\u0435\u0435 \u0434\u0432\u0443\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0})]}),Object(S.jsxs)("div",{className:"form__buttons",children:[Object(S.jsx)("button",{onClick:p,type:"submit",className:"form__button send",children:"Send"}),Object(S.jsx)("button",{onClick:h,type:"cancel",className:"form__button clear",children:"Clear"})]})]})})},V=function(){var n=Object(f.useState)(void 0),e=Object(k.a)(n,2),t=e[0],r=e[1],a=Object(f.useState)(!1),o=Object(k.a)(a,2),i=o[0],c=o[1],d=Object(f.useState)("https://jordan.ashton.fashion/api/goods/30/comments"),l=Object(k.a)(d,2),u=l[0],s=l[1];return Object(f.useEffect)((function(){u&&fetch(u).then((function(n){if(200!==n.status)throw new Error("Network response was not OK");return n.json()})).catch((function(n){console.error("There has been a problem with your fetch operation:",n)})).then((function(n){return r((function(e){if(i){var t=Object(N.a)(Object(N.a)({},n),{},{data:[].concat(Object(z.a)(e.data),Object(z.a)(n.data))});return c(!1),s(null),t}return s(null),n}))}))}),[u,i]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"comments__panel",children:[t&&t.data.map((function(n){return Object(S.jsx)(R,{item:n},n.id)})),t&&t.current_page===t.last_page&&Object(S.jsx)(K,{setUrlRequest:s,lastPage:t.last_page_url})]}),Object(S.jsxs)("div",{className:"buttons__panel",children:[t&&Object(S.jsx)(P,{moreButtonClicked:i,setUrlRequest:s,setMoreButtonClicked:c,next:t.next_page_url}),t&&Object(S.jsx)(Z,{urlSetter:s,apiData:t})]})]})},Y=v.default.header(p||(p=Object(w.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  width: 90%;\n  height: 50px;\n  font-size: 28px;\n  align-self: center;\n  margin: 10px;\n  color: #fff;\n  font-weight: 700;\n  font-size: 42px;\n"]))),Q=v.default.div(g||(g=Object(w.a)(['\n\n  label {\n    pointer-events: none;\n  }\n  label .input {\n    display: none;\n  }\n  label .input:checked + .toggle-wrapper > .selector {\n    left: 50%;\n    background-color: #424242;\n  }\n  label .toggle-wrapper {\n    position: relative;\n    width: 70px;\n    height: 30px;\n    background-color: #eaeaea;\n    border-radius: 999px;\n    margin: auto;\n    cursor: pointer;\n    pointer-events: all;\n    box-shadow: 0 8px 14px 0 rgba(215, 60, 18, 0.12);\n  }\n  label .toggle-wrapper .selector {\n    width: 25px;\n    height: 25px;\n    position: absolute;\n    top: 50%;\n    left: 10px;\n    transform: translateY(-50%);\n    background-color: #9E9E9E;\n    transition: left 0.25s ease;\n    border-radius: 50%;\n  }\n  label .notification {\n    font-size: 20px;\n    width: 100%;\n  }\n  label .notification .selected:before {\n    content: "No";\n    font-size: 20px;\n    border-bottom: 2px solid;\n  }\n']))),W=function(n){var e=n.themeToggleHandler;return Object(S.jsx)(Q,{children:Object(S.jsxs)("label",{htmlFor:"toggle",children:[Object(S.jsx)("input",{onChange:e,className:"input",id:"toggle",type:"checkbox"}),Object(S.jsx)("div",{className:"toggle-wrapper",children:Object(S.jsx)("span",{className:"selector"})})]})})},X=function(n){var e=n.themeToggleHandler;return Object(S.jsxs)(Y,{children:["Comments App",Object(S.jsx)(W,{themeToggleHandler:e})]})},$=Object(v.css)(x||(x=Object(w.a)(["\n  box-shadow: 3px 3px 3px 2px #424242;\n"]))),nn={bodyBackground:"#fff",mainBackground:"#1565c0",mainBorder:"3px solid #0d47a1",boxShadow:$,itemBackground:"#eee",buttonsColor:"#01579b",buttonBackgroundActive:"#bbdefb",buttonBackgroundDisabled:"#e0e0e0",buttonBackgroundHover:"#81d4fa",avatarBackground:"#1E88E5",avatarColor:"#eee",inputBackground:"#eee",sendBackground:"#388E3C",clearBackground:"#D32F2F"},en={bodyBackground:"#424242",mainBackground:"#212121",mainBorder:"3px solid #000",boxShadow:$,itemBackground:"#757575",buttonsColor:"#000",buttonBackgroundActive:"#78909C",buttonBackgroundDisabled:"#B0BEC5",buttonBackgroundHover:"#607D8B",avatarBackground:"#757575",avatarColor:"#BDBDBD",inputBackground:"#BDBDBD",sendBackground:"#1B5E20",clearBackground:"#B71C1C"};var tn=function(){var n=Object(f.useState)("light"),e=Object(k.a)(n,2),t=e[0],r=e[1],a=Object(f.useCallback)((function(){r("light"===t?"dark":"light")}),[t,r]);return Object(S.jsx)(B,{children:Object(S.jsxs)(v.ThemeProvider,{theme:"light"===t?nn:en,children:[Object(S.jsx)(C,{}),Object(S.jsxs)(D,{children:[Object(S.jsx)(X,{themeToggleHandler:a}),Object(S.jsx)(V,{})]})]})})};O.a.render(Object(S.jsx)(m.a.StrictMode,{children:Object(S.jsx)(tn,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.b44ec4e9.chunk.js.map